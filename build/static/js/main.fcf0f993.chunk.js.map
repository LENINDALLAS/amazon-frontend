{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","actions/cartActions.js","components/MessageBox.js","screens/CartScreen.js","components/Rating.js","components/Product.js","components/LoadingBox.js","screens/HomeScreen.js","actions/productAction.js","screens/ProductScreen.js","constants/userConstants.js","screens/SinginScreen.js","actions/userActions.js","screens/RegisterScreen.js","components/CheckoutSteps.js","screens/ShippingAddressScreen.js","screens/PaymentMethodScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","screens/OrderScreen.js","screens/OrderHistoryScreen.js","screens/ProfileScreen.js","components/PrivateRoute.js","App.js","reportWebVitals.js","reducers/productReducers.js","store.js","reducers/cartReducers.js","reducers/userReducer.js","reducers/orderReducer.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_EMPTY","addToCart","productId","qty","dispatch","getState","a","Axios","get","data","type","payload","name","image","price","countInStock","product","_id","localStorage","setItem","JSON","stringify","cart","cartItems","MessageBox","props","className","variant","children","CartScreen","match","params","id","location","search","Number","split","useSelector","state","error","useDispatch","useEffect","removeFromCartHandler","removeFromCart","length","to","map","item","src","alt","value","onChange","e","target","Array","keys","x","onClick","reduce","b","c","history","push","disabled","Rating","rating","numReviews","Product","LoadingBox","HomeScreen","productList","products","loading","axios","message","key","ProductScreen","useState","setQty","productDetails","response","detailsProduct","description","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_SIGNOUT","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","SinginScreen","email","setEmail","password","setPassword","redirect","userSignin","userInfo","onSubmit","preventDefault","post","signin","htmlFor","placeholder","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","userRegister","alert","register","CheckoutSteps","step1","step2","step3","step4","ShippingAddressScreen","shippingAddress","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentMethodScreen","paymentMethod","setPaymentMethod","checked","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_MINE_LIST_REQUEST","ORDER_MINE_LIST_SUCCESS","ORDER_MINE_LIST_FAIL","PlaceOrderScreen","orderCreate","success","order","toPrice","num","toFixed","itemsPrice","shippingPrice","taxPrice","totalPrice","headers","Authorization","token","removeItem","createOrder","orderItems","OrderScreen","sdkReady","setSdkReady","orderId","orderDetails","orderPay","loadingPay","errorPay","successPay","addPayPalScript","script","document","createElement","console","log","async","body","appendChild","authorization","detailsOrder","isPaid","window","paypal","isDelivered","deliveredAt","paidAt","amount","onSuccess","paymentResult","put","payOrder","OrderHistoryScreen","orderMineList","orders","createdAt","substring","ProfileScreen","userDetails","user","userUpdateProfile","successUpdate","errorUpdate","loadingUpdate","userId","updateUserProfile","PrivateRoute","Component","component","rest","render","App","isAdmin","path","SigninScreen","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","initialState","getItem","parse","reducer","combineReducers","action","existsItem","find","filter","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fcf0f993.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'      \r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'      \r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'","export const CART_ADD_ITEM = \"CART_ADD_ITEM\";\r\nexport const CART_REMOVE_ITEM = \"CART_REMOVE_ITEM\";\r\nexport const CART_SAVE_SHIPPING_ADDRESS = \"CART_SAVE_SHIPPING_ADDRESS\";\r\nexport const CART_SAVE_PAYMENT_METHOD = \"CART_SAVE_PAYMENT_METHOD\";\r\nexport const CART_EMPTY = \"CART_EMPTY\";\r\n","import Axios from \"axios\";\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n} from \"../constants/cartConstants.js\";\r\n\r\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  const { data } = await Axios.get(`https://amazona-clone-reactjs.herokuapp.com/api/products/${productId}`);\r\n  dispatch({\r\n    type: CART_ADD_ITEM,\r\n    payload: {\r\n      name: data.name,\r\n      image: data.image,\r\n      price: data.price,\r\n      countInStock: data.countInStock,\r\n      product: data._id,\r\n      qty,\r\n    },\r\n  });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({\r\n    type: CART_REMOVE_ITEM,\r\n    payload: productId,\r\n  });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING_ADDRESS, payload: data });\r\n  localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data });\r\n};\r\n","import React from 'react'\r\n\r\nfunction MessageBox(props) {\r\nreturn (\r\n    <div>\r\n        <div className={`alert alert-${props.variant || 'info'}`}>\r\n        {props.children} \r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default MessageBox","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart, removeFromCart } from \"../actions/cartActions\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nfunction CartScreen(props) {\r\n  const productId = props.match.params.id;\r\n  const qty = props.location.search\r\n    ? Number(props.location.search.split(\"=\")[1])\r\n    : 1;\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems, error } = cart;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    dispatch(removeFromCart(id));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"row top\">\r\n      <div className=\"col-2\">\r\n        <h1>Shopping cart</h1>\r\n        {cartItems.length === 0 ? (\r\n          <MessageBox>\r\n            Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n          </MessageBox>\r\n        ) : (\r\n          <ul>\r\n            {cartItems.map((item) => (\r\n              <li key={item.product}>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <img src={item.image} alt={item.name} className=\"small\" />\r\n                  </div>\r\n                  <div className=\"min-30\">\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </div>\r\n                  <div>\r\n                    <select\r\n                      value={item.qty}\r\n                      onChange={(e) =>\r\n                        dispatch(\r\n                          addToCart(item.product, Number(e.target.value))\r\n                        )\r\n                      }\r\n                    >\r\n                      {[...Array(item.countInStock).keys()].map((x) => (\r\n                        <option key={x + 1} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div>${item.price}</div>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeFromCartHandler(item.product)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div className=\"col-1\">\r\n        <div className=\"card card-body\">\r\n          <ul>\r\n            <li>\r\n              <h2>\r\n                {/* {console.log(cartItems)} */}\r\n                Subtotal ({cartItems.reduce((a, b) => a + b.qty, 0)} items) : $\r\n                {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n              </h2>\r\n            </li>\r\n            <li>\r\n              <button\r\n                type=\"button\"\r\n                onClick={checkoutHandler}\r\n                className=\"primary block\"\r\n                disabled={cartItems.length === 0}\r\n              >\r\n                Proceed to checkout\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartScreen;\r\n","import React from \"react\";\r\n\r\nfunction Rating(props) {\r\n  //passing props because we need to read two values\r\n  const { rating, numReviews } = props;\r\n\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            //rating the product with the help of ternary\r\n            rating >= 1 //if the rating is greater than or equal to 1 then it will give full star\r\n              ? \"fa fa-star\"\r\n              : rating >= 0.5 //if the rating is greater than or equal to 0.5 then it will give half star\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          } //or else it will give a empty star from position 0\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 2 //if the rating is greater than or equal to 2 then it will give 2 full star\r\n              ? \"fa fa-star\"\r\n              : rating >= 1.5 //if the rating is greater than or equal to 1.5 then it will give half star\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          } //or else it will give a empty star from position 2\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 3 //if the rating is greater than or equal to 3 then it will give 3 full star\r\n              ? \"fa fa-star\"\r\n              : rating >= 2.5 //if the rating is greater than or equal to 2.5 then it will give half star\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          } //or else it will give a empty star from position 3\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 4 //if the rating is greater than or equal to 4 then it will give 4 full star\r\n              ? \"fa fa-star\"\r\n              : rating >= 3.5 //if the rating is greater than or equal to 3.5 then it will give half star\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          } //or else it will give a empty star from position 4\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 5 //if the rating is greater than or equal to 5 then it will give 5 full star\r\n              ? \"fa fa-star\"\r\n              : rating >= 4.5 //if the rating is greater than or equal to 4.5 then it will give half star\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\" //or else it will give a empty star from position 5\r\n          }\r\n        ></i>\r\n      </span>\r\n      {/* //display number of reviews */}\r\n      <span> {`${numReviews} reviews`}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport Rating from './Rating'\r\n\r\nfunction Product(props) {\r\n    const { product } = props    //defining products in curly braces to fetch products from props\r\n    return (\r\n      // value of key is unique\r\n        <div key={product._id} className=\"card\"> \r\n          {/* //setting URL of image for product of this specific id */}\r\n        <Link to={`/product/${product._id}`}>     \r\n          <img className=\"medium\" \r\n          src={product.image}\r\n          alt={product.name} />\r\n          </Link>      \r\n        <div className=\"card-body\">\r\n          <Link to={`/product/${product._id}`}>   \r\n          {/* //image & name should link to same location  */}\r\n              <h2>{product.name}</h2>          \r\n          </Link>\r\n          {/* //using rating component inside this file & displaying rating & numReviews of product  */}\r\n          <Rating rating={product.rating} numReviews={product.numReviews} /> \r\n          {/* //displaying price of the product */}\r\n          <div className=\"price\">${product.price}</div> \r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from \"react\";\r\n\r\nfunction LoadingBox() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <i className=\"fa fa-spinner fa-spin\"></i>Loading...\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingBox;\r\n","import React , {useEffect} from 'react'\r\n\r\nimport Product from '../components/Product'\r\nimport LoadingBox from '../components/LoadingBox'\r\nimport MessageBox from '../components/MessageBox'\r\nimport { listProducts } from '../actions/productAction'\r\nimport { useDispatch , useSelector } from 'react-redux'\r\n\r\nfunction HomeScreen() {\r\n\r\n  const dispatch = useDispatch();\r\n  const productList = useSelector((state) => state.productList)\r\n  const {products , loading , error} = productList\r\n\r\nuseEffect(() => {\r\n  dispatch(listProducts())\r\n} ,[])\r\n\r\n    return (\r\n        <div>\r\n          {loading ? <LoadingBox /> : error ? <MessageBox variant=\"danger\">{error}</MessageBox> : \r\n          <div className=\"row center\">\r\n          {\r\n          products.map((product) => (              //using map function to replicate products\r\n          <Product key={product.key} product={product} />  //the first element after map() must be key\r\n            ))}\r\n         </div>\r\n          } \r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeScreen\r\n","import axios from 'axios'\r\nimport { PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST } from '../constants/productConstants'\r\nimport { PRODUCT_LIST_SUCCESS } from '../constants/productConstants'\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n    dispatch({\r\n        type: PRODUCT_LIST_REQUEST\r\n    });\r\n    try {\r\n        const { data } = await axios.get('https://amazona-clone-reactjs.herokuapp.com/api/products');\r\n        dispatch({\r\n            type: PRODUCT_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAIL,\r\n            payload: error.message\r\n\r\n        })\r\n    }\r\n}\r\n\r\nexport const detailsProduct = (productId) => async (dispatch) => {\r\n    dispatch({\r\n        type: PRODUCT_DETAILS_REQUEST,\r\n        payload: productId\r\n    })\r\n    try {\r\n        const { data } = await axios.get(`https://amazona-clone-reactjs.herokuapp.com/api/products/${productId}`)\r\n        dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data : error.message\r\n\r\n        })\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useSelector , useDispatch} from 'react-redux'\r\nimport {detailsProduct } from '../actions/productAction'\r\nimport { Link } from 'react-router-dom'\r\nimport LoadingBox from '../components/LoadingBox'\r\nimport MessageBox from '../components/MessageBox'\r\nimport Rating from '../components/Rating'\r\n\r\n\r\nfunction ProductScreen(props) {\r\nconst dispatch = useDispatch();\r\nconst productId = props.match.params.id\r\nconst [qty , setQty] = useState(1)\r\nconst productDetails = useSelector((state) => state.productDetails)\r\nconst { loading , error , product} = productDetails;\r\n\r\nuseEffect(() => {\r\n    dispatch(detailsProduct(productId))\r\n} , [dispatch , productId])\r\n\r\nconst addToCartHandler = () => {\r\n    props.history.push(`/cart/${productId}?qty=${qty}`)\r\n}\r\n\r\n    return ( \r\n        \r\n        <div>\r\n        {loading ? <LoadingBox /> : error ? <MessageBox variant=\"danger\">{error}</MessageBox> : \r\n      <div>\r\n      <Link to='/'>Back to Home</Link>\r\n      <div className=\"row top\">\r\n        <div className=\"col-2\" >\r\n            <img className=\"large\" src={product.image} alt={product.name} />\r\n        </div>\r\n        <div className=\"col-1\">\r\n            <ul>\r\n                <li>\r\n                    <h1>{product.name}</h1>\r\n                </li>\r\n                <li>\r\n                    <Rating rating={product.rating}\r\n                    numReviews={product.numReviews} />\r\n                </li>\r\n                <li>\r\n                    Price: $ {product.price}\r\n                </li>\r\n                <li>\r\n                    Description: \r\n                    <p>{product.description}</p>\r\n                </li>\r\n            </ul>\r\n\r\n        </div>\r\n        <div className=\"col-1\" >\r\n            <div className=\"card card-body\">\r\n                <ul>\r\n                    <li>\r\n                        <div className=\"row\">\r\n                            <div>Price:</div>\r\n                            <div className=\"price\">$ {product.price}</div>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                    <div className=\"row\">\r\n                            <div>Status:</div>\r\n                            <div>{(product.countInStock > 0) ? \r\n                            (<span className=\"success\">In stock</span>) :\r\n                            (<span className=\"danger\">Unavailable</span>)}</div>\r\n                        </div>\r\n                    </li>\r\n                    {product.countInStock > 0 && (\r\n                        <>\r\n                        <li>\r\n                            <div className=\"row\">\r\n                                <div>Qty</div>\r\n                                <div>\r\n                                    <select value={qty} onChange={e => setQty(e.target.value)}>\r\n                                       {[...Array(product.countInStock).keys()].map(x => (\r\n                                           <option key={x+1} value={x+1}> {x+1}</option>\r\n                                       ))}\r\n                                        </select>\r\n                            </div>\r\n                            </div>\r\n                        </li>\r\n                          <li>\r\n                            <button onClick={addToCartHandler} className=\"primary block\">Add to cart</button>\r\n                         </li>\r\n                        </>\r\n                    )}\r\n                  \r\n                </ul>\r\n            </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n        } \r\n      \r\n      </div>\r\n\r\n      \r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n","export const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\n\r\nexport const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_SIGNOUT = 'USER_SIGNOUT';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET';\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nfunction SinginScreen(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo, loading, error } = userSignin;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //  console.log(props);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [userInfo, props.history, redirect]);\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Create account</h1>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        <div>\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter Email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        <label />\r\n        <div>\r\n          New Customer?{\" \"}\r\n          <Link to={`/register?redirect=${redirect}`}>\r\n            Create your account{\" \"}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SinginScreen;\r\n","import Axios from \"axios\";\r\nimport {\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_SIGNIN_FAIL,\r\n  USER_SIGNIN_REQUEST,\r\n  USER_SIGNIN_SUCCESS,\r\n  USER_SIGNOUT,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { email, password } });\r\n  //  console.log('user signin request', email, password);\r\n  try {\r\n    const { data } = await Axios.post(\"https://amazona-clone-reactjs.herokuapp.com/api/users/register\", {\r\n      name,\r\n      email,\r\n      password,\r\n    });\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n    // console.log('fetch success', data);\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n    // console.log('fetch fail', error);\r\n  }\r\n};\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  //  console.log('user signin request', email, password);\r\n  try {\r\n    const { data } = await Axios.post(\"https://amazona-clone-reactjs.herokuapp.com/api/users/signin\", { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n    // console.log('fetch success', data);\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_SIGNIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n    // console.log('fetch fail', error);\r\n  }\r\n};\r\n\r\nexport const signout = () => (dispatch) => {\r\n  localStorage.removeItem(\"userInfo\");\r\n  localStorage.removeItem(\"cartItems\");\r\n  localStorage.removeItem(\"shippingAddress\");\r\n  dispatch({ type: USER_SIGNOUT });\r\n};\r\n\r\nexport const detailsUser = (userId) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_DETAILS_REQUEST, payload: userId });\r\n  const { userSignin: { userInfo } } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`https://amazona-clone-reactjs.herokuapp.com/api/users/${userId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      },\r\n    });\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message\r\n      ? error.response.data.message\r\n      : error.message;\r\n    dispatch({ type: USER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_UPDATE_PROFILE_REQUEST, payload: user });\r\n  const { userSignin: { userInfo } } = getState();\r\n  try {\r\n    const { data } = await Axios.put('https://amazona-clone-reactjs.herokuapp.com/api/users/profile', user, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      },\r\n    });\r\n    dispatch({ type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message\r\n      ? error.response.data.message\r\n      : error.message;\r\n    dispatch({ USER_UPDATE_PROFILE_FAIL, payload: message });\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { register } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nfunction RegisterScreen(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { userInfo, loading, error } = userRegister;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //  console.log(props);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      alert(\"Password and confirm password does not match\");\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [userInfo, props.history, redirect]);\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Register</h1>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        <div>\r\n          <label htmlFor=\"name\">Name address</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            placeholder=\"Enter Name\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter Email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"confirmPassword\">Confirm Password </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            placeholder=\"Re-type Password\"\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Register\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        <label />\r\n        <div>\r\n          Already have an account ?{\" \"}\r\n          <Link to={`/signin?redirect=${redirect}`}>Signin to account </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterScreen;\r\n","import React from \"react\";\r\n\r\nfunction CheckoutSteps(props) {\r\n  return (\r\n    <div className=\"row checkout-steps\">\r\n      <div className={props.step1 ? \"active\" : \"\"}> Sign-In</div>\r\n      <div className={props.step2 ? \"active\" : \"\"}> Shipping</div>\r\n      <div className={props.step3 ? \"active\" : \"\"}> Payment</div>\r\n      <div className={props.step4 ? \"active\" : \"\"}> Place Order</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { saveShippingAddress } from \"../actions/cartActions\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\n\r\nfunction ShippingAddressScreen(props) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n\r\n  if (!userInfo) {\r\n    props.history.push(\"/signin\");\r\n  }\r\n\r\n  const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n  const [address, setAddress] = useState(shippingAddress.address);\r\n  const [city, setCity] = useState(shippingAddress.city);\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n  const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      saveShippingAddress({ fullName, address, city, postalCode, country })\r\n    );\r\n    props.history.push(\"/payment\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 />\r\n      <div>\r\n        <form className=\"form\" onSubmit={submitHandler}>\r\n          <div>\r\n            <div>Shipping Address</div>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"fullname\">Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"fullname\"\r\n              placeholder=\"Enter full name\"\r\n              value={fullName}\r\n              onChange={(e) => setFullName(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"address\">Address</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"address\"\r\n              placeholder=\"Enter address\"\r\n              value={address}\r\n              onChange={(e) => setAddress(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"city\">City</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"city\"\r\n              placeholder=\"Enter city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"postalCode\">Pin-code</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"postalCode\"\r\n              placeholder=\"Enter Pin-code\"\r\n              value={postalCode}\r\n              onChange={(e) => setPostalCode(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"country\">Country</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"country\"\r\n              placeholder=\"Enter country\"\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label />\r\n            <button type=\"submit\" className=\"primary\">\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShippingAddressScreen;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { savePaymentMethod } from \"../actions/cartActions\";\r\n\r\nfunction PaymentMethodScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n\r\n  if (!shippingAddress.address) {\r\n    props.history.push(\"/shipping\");\r\n  }\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState(\"PayPal\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    props.history.push(\"/placeorder\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Payment Method</h1>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"paypal\"\r\n              value=\"PayPal\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n            <label htmlFor=\"paypal\">PayPal</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"stripe\"\r\n              value=\"Stripe\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              //   checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n            <label htmlFor=\"stripe\">Stripe</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\" className=\"primary\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentMethodScreen;\r\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\r\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\r\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\r\nexport const ORDER_CREATE_RESET = \"ORDER_CREATE_RESET\";\r\n\r\nexport const ORDER_DETAILS_REQUEST = \"ORDER_DETAILS_REQUEST\";\r\nexport const ORDER_DETAILS_SUCCESS = \"ORDER_DETAILS_SUCCESS\";\r\nexport const ORDER_DETAILS_FAIL = \"ORDER_DETAILS_FAIL\";\r\n\r\nexport const ORDER_PAY_REQUEST = \"ORDER_PAY_REQUEST\";\r\nexport const ORDER_PAY_SUCCESS = \"ORDER_PAY_SUCCESS\";\r\nexport const ORDER_PAY_FAIL = \"ORDER_PAY_FAIL\";\r\nexport const ORDER_PAY_RESET = \"ORDER_PAY_RESET\";\r\n\r\nexport const ORDER_MINE_LIST_REQUEST = \"ORDER_MINE_LIST_REQUEST\";\r\nexport const ORDER_MINE_LIST_SUCCESS = \"ORDER_MINE_LIST_SUCCESS\";\r\nexport const ORDER_MINE_LIST_FAIL = \"ORDER_MINE_LIST_FAIL\";\r\n\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createOrder } from \"../actions/orderActions\";\r\nimport { ORDER_CREATE_RESET } from \"../constants/orderConstants\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nfunction PlaceOrderScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  //   console.log(props)\r\n\r\n  if (!cart.paymentMethod) {\r\n    props.history.push(\"/payment\");\r\n  }\r\n\r\n  const orderCreate = useSelector((state) => state.orderCreate);\r\n  const { loading, success, error, order } = orderCreate;\r\n  // console.log('place order', order);\r\n\r\n  const toPrice = (num) => Number(num.toFixed(2));\r\n  cart.itemsPrice = toPrice(\r\n    cart.cartItems.reduce((a, c) => a + c.qty * c.price, 0)\r\n  );\r\n\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(10);\r\n  cart.taxPrice = toPrice(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n  const dispatch = useDispatch();\r\n  const placeOrderHandler = () => {\r\n    dispatch(createOrder({ ...cart, orderItems: cart.cartItems }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      props.history.push(`/order/${order._id}`);\r\n      dispatch({ type: ORDER_CREATE_RESET });\r\n    }\r\n  }, [success, dispatch, props.history, order]);\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4 />\r\n      <div className=\"row top\">\r\n        <div className=\"col-2\">\r\n          <ul>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Shipping</h2>\r\n                <p>\r\n                  <strong>Name:</strong>\r\n                  {cart.shippingAddress.fullName} <br />\r\n                  <strong>Address:</strong>\r\n                  {cart.shippingAddress.address},{cart.shippingAddress.city},{\" \"}\r\n                  {cart.shippingAddress.postalCode},\r\n                  {cart.shippingAddress.country}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Payment</h2>\r\n                <p>\r\n                  <strong>Method:</strong>\r\n                  {cart.paymentMethod}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Order Items</h2>\r\n                <ul>\r\n                  {cart.cartItems.map((item) => (\r\n                    <li key={item.product}>\r\n                      <div className=\"row\">\r\n                        <div>\r\n                          <img\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            className=\"small\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"min-30\">\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </div>\r\n                        <div>\r\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-1\">\r\n          <div className=\"card card-body\">\r\n            <ul>\r\n              <li>\r\n                <h2>Order Summary</h2>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Items</div>\r\n                  <div>${cart.itemsPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Shipping</div>\r\n                  <div>${cart.shippingPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Tax</div>\r\n                  <div>${cart.taxPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <strong>Order Total</strong>\r\n                  </div>\r\n                  <div>${cart.totalPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"primary block\"\r\n                  onClick={placeOrderHandler}\r\n                  disabled={cart.cartItems.length === 0}\r\n                >\r\n                  Place Order\r\n                </button>\r\n              </li>\r\n              {loading && <LoadingBox />}\r\n              {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlaceOrderScreen;\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n\r\n} from \"../constants/orderConstants\";\r\nimport { CART_EMPTY } from \"../constants/cartConstants\"\r\nimport Axios from \"axios\";\r\n\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    const { data } = await Axios.post(\"https://amazona-clone-reactjs.herokuapp.com/api/orders\", order, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: data.order });\r\n    dispatch({ type: CART_EMPTY });\r\n    localStorage.removeItem(\"cartItems\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n  const { userSignin: { userInfo } } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`https://amazona-clone-reactjs.herokuapp.com/api/orders/${orderId}`, {\r\n      headers: {\r\n        authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    });\r\n\r\n    // console.log('action order', data);\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message\r\n      ? error.response.data.message : error.message\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_PAY_REQUEST, payload: { order, paymentResult } });\r\n  const { userSignin: { userInfo } } = getState();\r\n  try {\r\n    const { data } = await Axios.put(`https://amazona-clone-reactjs.herokuapp.com/api/orders/${order._id}/pay`, paymentResult, { headers: { Authorization: `Bearer ${userInfo.token}` } })\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message\r\n      ? error.response.data.message : error.message\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const listOrderMine = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_MINE_LIST_REQUEST });\r\n\r\n  const { userSignin: { userInfo } } = getState();\r\n\r\n  try {\r\n    const { data } = await Axios.get('https://amazona-clone-reactjs.herokuapp.com/api/orders/mine', {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    });\r\n    dispatch({ type: ORDER_MINE_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message\r\n      ? error.response.data.message : error.message\r\n    dispatch({ type: ORDER_MINE_LIST_FAIL, payload: message });\r\n  }\r\n};\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { detailsOrder, payOrder } from '../actions/orderActions.js'\r\nimport Axios from \"axios\";\r\nimport { ORDER_PAY_RESET } from \"../constants/orderConstants\";\r\n\r\nfunction OrderScreen(props) {\r\n\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  // console.log('sdk state', sdkReady);\r\n\r\n  const orderId = props.match.params.id;\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { order, loading, error } = orderDetails;\r\n  // console.log('order', orderDetails);\r\n\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n  const { loading: loadingPay, error: errorPay, success: successPay } = orderPay;\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(() => {\r\n    const addPayPalScript = async () => {\r\n      const { data } = await Axios.get('https://amazona-clone-reactjs.herokuapp.com/api/config/paypal');\r\n      // console.log('data paypal', data);\r\n      const script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n      console.log('script src', script.src);\r\n      script.async = true;\r\n      setSdkReady(true);\r\n      // script.onload = () => {\r\n      //   setSdkReady(true);\r\n      //   console.log('sdk logged');\r\n      // }\r\n      document.body.appendChild(script);\r\n    };\r\n    if (!order || successPay || (order._id !== orderId)) {\r\n      dispatch({ type: ORDER_PAY_RESET });\r\n      dispatch(detailsOrder(orderId));\r\n    } else {\r\n      if (!order.isPaid) {\r\n        if (!window.paypal) {\r\n          addPayPalScript();\r\n        } else {\r\n          setSdkReady(true)\r\n          console.log('sdk logged');\r\n        }\r\n      }\r\n    }\r\n\r\n  }, [dispatch, orderId, order, sdkReady]);\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    dispatch(payOrder(order, paymentResult));\r\n  }\r\n\r\n\r\n  return loading ? (<LoadingBox />) : error ? (<MessageBox variant='danger'>{error}</MessageBox>) :\r\n    (\r\n      <div>\r\n        <h1>Order {order._id}</h1>\r\n        <div className=\"row top\">\r\n          <div className=\"col-2\">\r\n            <ul>\r\n              <li>\r\n                <div className=\"card card-body\">\r\n                  <h2>Shipping</h2>\r\n                  <p>\r\n                    <strong>Name:</strong>\r\n                    {order.shippingAddress.fullName} <br />\r\n                    <strong>Address:</strong>\r\n                    {order.shippingAddress.address},{order.shippingAddress.city},{\" \"}\r\n                    {order.shippingAddress.postalCode},\r\n                    {order.shippingAddress.country}\r\n                  </p>\r\n                  {order.isDelivered ?\r\n                    (<MessageBox variant=\"success\">\r\n                      Delivered at {order.deliveredAt}\r\n                    </MessageBox>) :\r\n                    (<MessageBox variant=\"danger\" >Not Delivered</MessageBox>\r\n                    )}\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"card card-body\">\r\n                  <h2>Payment</h2>\r\n                  <p>\r\n                    <strong>Method:</strong>\r\n                    {order.paymentMethod}\r\n                  </p>\r\n                  {order.isPaid ?\r\n                    (<MessageBox variant=\"success\">\r\n                      Paid at {order.paidAt}\r\n                    </MessageBox>) :\r\n                    (<MessageBox variant=\"danger\" >Not Paid</MessageBox>\r\n                    )}\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"card card-body\">\r\n                  <h2>Order Items</h2>\r\n                  <ul>\r\n                    {order.orderItems.map((item) => (\r\n                      <li key={item.product}>\r\n                        <div className=\"row\">\r\n                          <div>\r\n                            <img\r\n                              src={item.image}\r\n                              alt={item.name}\r\n                              className=\"small\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"min-30\">\r\n                            <Link to={`/product/${item.product}`}>\r\n                              {item.name}\r\n                            </Link>\r\n                          </div>\r\n                          <div>\r\n                            {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-1\">\r\n            <div className=\"card card-body\">\r\n              <ul>\r\n                <li>\r\n                  <h2>Order Summary</h2>\r\n                </li>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <div>Items</div>\r\n                    <div>${order.itemsPrice.toFixed(2)}</div>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <div>Shipping</div>\r\n                    <div>${order.shippingPrice.toFixed(2)}</div>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <div>Tax</div>\r\n                    <div>${order.taxPrice.toFixed(2)}</div>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <div>\r\n                      <strong>Order Total</strong>\r\n                    </div>\r\n                    <div>${order.totalPrice.toFixed(2)}</div>\r\n                  </div>\r\n                </li>\r\n                {!order.isPaid && (\r\n                  <li>\r\n                    {!sdkReady ? (\r\n                      <LoadingBox />) : (\r\n                      <>\r\n                        {errorPay && (<MessageBox variant='danger'>{errorPay}</MessageBox>)}\r\n                        {loadingPay && <LoadingBox />}\r\n                        <PayPalButton amount={order.totalPrice} onSuccess={successPaymentHandler} ></PayPalButton>\r\n                      </>\r\n                    )}\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default OrderScreen;\r\n\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listOrderMine } from '../actions/orderActions.js';\r\nimport LoadingBox from '../components/LoadingBox.js';\r\nimport MessageBox from '../components/MessageBox.js';\r\n\r\nfunction OrderHistoryScreen(props) {\r\n    const orderMineList = useSelector((state) => state.orderMineList);\r\n    const { loading, error, orders } = orderMineList;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(listOrderMine())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div>\r\n            <h1>Order History</h1>\r\n            {loading ? <LoadingBox /> : error ? <MessageBox variant=\"danger\">error</MessageBox> : (\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>DATE</th>\r\n                            <th>TOTAL</th>\r\n                            <th>PAID</th>\r\n                            <th>DELIVERED</th>\r\n                            <th>ACTIONS</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {orders.map((order) => (\r\n                            <tr key={order._id}>\r\n                                <td>{order._id}</td>\r\n                                <td>{order.createdAt.substring(0, 10)}</td>\r\n                                <td>{order.totalPrice.toFixed(2)}</td>\r\n                                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n                                <td>{order.isDelivered ? order.deliveredAt.substring(0, 10) : 'No'}</td>\r\n                                <td>\r\n                                    <button type='button' className=\"small\" onClick={() => {\r\n                                        props.history.push(`/order/${order._id}`);\r\n                                    }}>\r\n                                        Details\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderHistoryScreen;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsUser, updateUserProfile } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants';\r\n\r\nfunction ProfileScreen(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n    const userDetails = useSelector((state) => state.userDetails);\r\n    const { loading, error, user } = userDetails;\r\n    const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n    const { success: successUpdate, error: errorUpdate, loading: loadingUpdate } = userUpdateProfile;\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            alert('password and confirm password does not match');\r\n        } else {\r\n            dispatch(updateUserProfile({ userId: user._id, name, email, password }));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            dispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n            dispatch(detailsUser(userInfo._id));\r\n\r\n        } else {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n        }\r\n    }, [dispatch, userInfo._id, user])\r\n\r\n    return (\r\n        <div>\r\n            <form className='form' onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>User Profile</h1>\r\n                </div>\r\n                {loading ? (<LoadingBox />) :\r\n                    error ? (<MessageBox variant=\"danger\">{error}</MessageBox>) : (\r\n                        <>\r\n                            {loadingUpdate && <LoadingBox />}\r\n                            {errorUpdate && <MessageBox variant='danger'>{errorUpdate}</MessageBox>}\r\n                            {successUpdate && (<MessageBox variant='success'>Profile updated successfully</MessageBox>)}\r\n                            <div>\r\n                                <label htmlFor='name'>Name</label>\r\n                                <input type='text' id='name' placeholder='Enter name' value={name} onChange={(e) => setName(e.target.value)} ></input>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor='email'>Email</label>\r\n                                <input type='text' id='email' placeholder='Enter email' value={email} onChange={(e) => setEmail(e.target.value)}></input>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor='password'>Password</label>\r\n                                <input type='password' id='password' placeholder='Enter Password' value={password} onChange={(e) => setPassword(e.target.value)}  ></input>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor='confirmPassword'>Confirm Password</label>\r\n                                <input type='password' id='confirmPassword' placeholder='Enter Confirm Password' value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} ></input>\r\n                            </div>\r\n                            <div>\r\n                                <label />\r\n                                <button className='primary' type='submit'>Update</button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileScreen;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n    const userSingin = useSelector((state) => state.userSignin);\r\n    const { userInfo } = userSingin;\r\n\r\n    return (\r\n        <Route {...rest} render={(props) => userInfo ? (\r\n            <Component {...props} />\r\n        ) : (\r\n            <Redirect to='/signin' />\r\n        )}>\r\n\r\n        </Route >\r\n    );\r\n}\r\n\r\nexport default PrivateRoute;","import React from \"react\";\r\nimport { Route, BrowserRouter as Router, Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CartScreen from \"./screens/CartScreen\";\r\nimport HomeScreen from \"./screens/HomeScreen\";\r\nimport ProductScreen from \"./screens/ProductScreen\";\r\nimport SigninScreen from \"./screens/SinginScreen\";\r\nimport RegisterScreen from \"./screens/RegisterScreen\";\r\nimport { signout } from \"./actions/userActions\";\r\nimport ShippingAddressScreen from \"./screens/ShippingAddressScreen\";\r\nimport PaymentMethodScreen from \"./screens/PaymentMethodScreen\";\r\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\r\nimport OrderScreen from \"./screens/OrderScreen\";\r\nimport OrderHistoryScreen from \"./screens/OrderHistoryScreen\";\r\nimport ProfileScreen from \"./screens/ProfileScreen\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\n\r\nfunction App() {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  // console.log('userInfo', userInfo);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const signoutHandler = () => {\r\n    dispatch(signout());\r\n  };\r\n\r\n  return (\r\n    //  this is a component from react-router-dom\r\n    <Router>\r\n      <div>\r\n        <div className=\"grid-container\">\r\n          <header className=\"row\">\r\n            <div>\r\n              <Link className=\"brand\" to=\"/\">\r\n                Amazon\r\n              </Link>\r\n            </div>\r\n            <div>\r\n              <Link to=\"/cart\">\r\n                Cart\r\n                {cartItems.length > 0 && (\r\n                  <span className=\"badge\">{cartItems.length}</span>\r\n                )}\r\n              </Link>\r\n              {userInfo ? (\r\n                <div className=\"dropdown\">\r\n                  <Link to=\"#\">\r\n                    {userInfo.name} <i className=\"fa fa-caret-down\"></i>{\" \"}\r\n                  </Link>\r\n                  <ul className=\"dropdown-content\">\r\n                    <li>\r\n                      <Link to='/profile'>User Profile</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to='/orderhistory'>Order History</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#signout\" onClick={signoutHandler}>\r\n                        Sign out\r\n                      </Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              ) : (\r\n                <Link to=\"/signin\">Sign In</Link>\r\n              )}\r\n              {userInfo && userInfo.isAdmin && (\r\n                <div className=\"dropdown\">\r\n                  <Link to='#admin'>\r\n                    Admin <i className=\"fa fa-caret-down\"></i>\r\n                  </Link>\r\n                  <ul className='dropdown-content'>\r\n                    <li>\r\n                      <Link to='/dashboard'>Dashboard</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                      <Link to='/productlist'>Products</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                      <Link to='/orderlist'>Orders</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                      <Link to='/userlist'>Users</Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {/* <Link to=\"/signin\">{userInfo ? userInfo.name : 'Sign In'}</Link> */}\r\n            </div>\r\n          </header>\r\n          {/* //routes must be definend in the mai section  */}\r\n          <main>\r\n            {/* //:id contains the id of our products */}\r\n            <Route path=\"/cart/:id?\" component={CartScreen} />\r\n            <Route path=\"/product/:id\" component={ProductScreen} />\r\n            <Route path=\"/Signin\" component={SigninScreen} />\r\n            <Route path=\"/register\" component={RegisterScreen} />\r\n            <Route path=\"/shipping\" component={ShippingAddressScreen} />\r\n            <Route path=\"/payment\" component={PaymentMethodScreen} />\r\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n            <Route path='/order/:id' component={OrderScreen} />\r\n            <Route path='/orderhistory' component={OrderHistoryScreen} />\r\n            <PrivateRoute path='/profile' component={ProfileScreen} />\r\n            <Route exact path=\"/\" component={HomeScreen} />\r\n          </main>\r\n          <footer className=\"row center footer\">All right reserved</footer>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const {PRODUCT_LIST_SUCCESS , PRODUCT_LIST_REQUEST , PRODUCT_LIST_FAIL, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_FAIL} = require('../constants/productConstants')\r\n\r\n\r\n\r\nexport const productListReducer = (state={\r\n    loading: true,\r\n    products :[]\r\n   }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_REQUEST: \r\n            return {\r\n                loading : true\r\n            }\r\n        case PRODUCT_LIST_SUCCESS: \r\n            return { \r\n                loading : false,\r\n                products : action.payload\r\n            }\r\n        \r\n        case PRODUCT_LIST_FAIL: \r\n            return {\r\n                loading : false ,\r\n                error: action.payload\r\n            }\r\n        \r\n        default: \r\n        return state\r\n        \r\n        }\r\n}\r\n\r\nexport const productDetailsReducer = (\r\n    state = { product: {} , loading: true},\r\n    action) => {\r\n    switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n        return {\r\n        loading:true,\r\n        } \r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                product: action.payload\r\n            }\r\n            case PRODUCT_DETAILS_FAIL:\r\n                return {\r\n                    loading: false,\r\n                    error: action.payload\r\n                }\r\n                default:\r\n                    return state;\r\n    }\r\n    }\r\n","import { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n} from \"./reducers/productReducers\";\r\nimport { cartReducer } from \"./reducers/cartReducers\";\r\nimport { userDetailsReducer, userRegisterReducer, userSigninReducer, userUpdateProfileReducer } from \"./reducers/userReducer\";\r\nimport { orderCreateReducer, orderDetailsReducer, orderMineListReducer, orderPayReducer } from \"./reducers/orderReducer.js\";\r\nconst initialState = {\r\n  userSignin: {\r\n    userInfo: localStorage.getItem(\"userInfo\")\r\n      ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n      : null,\r\n  },\r\n  cart: {\r\n    cartItems: localStorage.getItem(\"cartItems\")\r\n      ? JSON.parse(localStorage.getItem(\"cartItems\"))\r\n      : [],\r\n    shippingAddress: localStorage.getItem(\"shippingAddress\")\r\n      ? JSON.parse(localStorage.getItem(\"shippingAddress\"))\r\n      : {},\r\n    paymentMethod: \"PayPal\",\r\n  },\r\n};\r\n\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  userSignin: userSigninReducer,\r\n  userRegister: userRegisterReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  orderMineList: orderMineListReducer,\r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n\r\n});\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_EMPTY\r\n} from \"../constants/cartConstants\";\r\n\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const existsItem = state.cartItems.find(\r\n        (x) => x.product === item.product\r\n      );\r\n      if (existsItem) {\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map((x) =>\r\n            x.product === existsItem.product ? item : x\r\n          ),\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          cartItems: [...state.cartItems, item],\r\n        };\r\n      }\r\n    case CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n      };\r\n    case CART_SAVE_SHIPPING_ADDRESS:\r\n      return { ...state, shippingAddress: action.payload };\r\n    case CART_SAVE_PAYMENT_METHOD:\r\n      return { ...state, paymentMethod: action.payload };\r\n    case CART_EMPTY:\r\n      return { ...state, cartItems: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_SIGNIN_FAIL,\r\n  USER_SIGNIN_REQUEST,\r\n  USER_SIGNIN_SUCCESS,\r\n  USER_SIGNOUT,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_RESET,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_SIGNOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userSigninReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_SIGNIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_SIGNOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, user: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_PROFILE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_UPDATE_PROFILE_RESET:\r\n      return {}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_RESET,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_RESET,\r\n  ORDER_PAY_SUCCESS,\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_CREATE_SUCCESS:\r\n      return { loading: false, success: true, order: action.payload };\r\n    case ORDER_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_CREATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case ORDER_DETAILS_FAIL:\r\n      return { loading: false, order: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_PAY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_PAY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_PAY_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const orderMineListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_MINE_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_MINE_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_MINE_LIST_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store} >\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}